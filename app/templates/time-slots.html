<!-- TODO: add booking_id and link to booking form to each of these -->
<!-- TODO: add styling -->
<style>
  .time-slots {
    display: flex;
    width: 80vw;
    gap: 2%;
  }

  .time-slot {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 300px;
    padding: 15px 30px;

    .time {
      border-radius: 5px;
      border: 1px solid var(--primary-color);
      height: 50px;
      background: #fff;
      text-align: center;
      padding: 5px 3px;
      cursor: pointer;
      transition: border 0.1s ease;
      font-size: 16px;
    }
    .time:hover {
      border: 1px solid var(--dark-color);
    }
  }
</style>
<fieldset class="time-slots">
  <div class="time-slot time-slot--previous">
    <p class="time-slot__date">{{ dates['previous'] }}</p>
    {% for ts in time_slots['previous'] %}
    <label class="time">
      <input type="radio" id="{{ ts['BookingID'] }}" name="time-slot" />
      <p class="time__label">{{ ts['TimeSlot']}}</p>
    </label>
    {% endfor %}
  </div>
  <div class="time-slot time-slot--selected">
    <p class="time-slot__date">{{ dates['selected'] }}</p>
    {% for ts in time_slots['selected'] %}
    <label class="time">
      <input type="radio" id="{{ ts['BookingID'] }}" name="time-slot" />
      <p class="time__label">{{ ts['TimeSlot']}}</p>
    </label>
    {% endfor %}
  </div>
  <div class="time-slot time-slot--next">
    <p class="time-slot__date">{{ dates['next'] }}</p>
    {% for ts in time_slots['next'] %}
    <label class="time">
      <input type="radio" id="{{ ts['BookingID'] }}" name="time-slot" />
      <p class="time__label">{{ ts['TimeSlot']}}</p>
    </label>
    {% endfor %}
  </div>
</fieldset>
<script>
  document.querySelectorAll('.time__label').forEach((l) => {
    l.textContent = new Date(`2000-05-31T${l.textContent}`).toLocaleTimeString(
      'en-US',
      {
        hour: '2-digit',
        minute: '2-digit',
      }
    );
  });
  document.querySelectorAll('.time-slot__date').forEach((d) => {
    d.textContent = new Date(d.textContent + 'T00:00:00').toLocaleDateString(
      'en-US',
      {
        month: 'short',
        day: '2-digit',
      }
    );
  });
</script>
